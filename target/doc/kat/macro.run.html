<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Runs the tests."><meta name="keywords" content="rust, rustlang, rust-lang, run"><title>run in kat - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc macro"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../kat/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../kat/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location"><a href="index.html">In kat</a></h2><div id="sidebar-vars" data-name="run" data-ty="macro" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../kat/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Macro <a href="index.html">kat</a>::<wbr><a class="macro" href="#">run</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/kat/lib.rs.html#275-355">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><div class="example-wrap"><pre class="rust macro"><code><span class="macro">macro_rules!</span> <span class="ident">run</span> {
    (
        <span class="macro-nonterminal">$</span><span class="macro-nonterminal">global_data</span>: <span class="ident">ident</span>, 
        <span class="macro-nonterminal">$</span><span class="macro-nonterminal">test_data</span>: <span class="ident">ident</span>,
        $(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">data</span>: <span class="ident">tt</span>)<span class="op">*</span>
    ) =&gt; { ... };
}</code></pre></div>
</div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Runs the tests.</p>
<p>This macro will create the module “kat_tests” and the test function “tests”.
The macro will run any passed statements for every Test it could find. 
Inside the macro you get access to your global variables, as well as test specific
variables.
Depending on your IDE, you will see runnable highlighting above your macro invocation.
The macro depends on the invocation of <code>kat_cfg</code>, <code>global</code> and <code>test</code>.</p>
<h4 id="invocation"><a href="#invocation">Invocation</a></h4>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code> 
<span class="comment">// Set the path to the test file</span>
<span class="macro">kat_cfg!</span>(<span class="ident">path</span><span class="op">/</span><span class="ident">to</span><span class="op">/</span><span class="ident">my</span><span class="op">/</span><span class="ident">file</span>);
 
<span class="comment">// Define yout global variables</span>
<span class="macro">global!</span>{
    <span class="kw">pub</span> <span class="ident">my_global</span>: <span class="ident">usize</span>
}
 
<span class="comment">// Define your test specific variables</span>
<span class="macro">test!</span>{
    <span class="kw">pub</span> <span class="ident">my_test_var</span>: <span class="ident">usize</span>
}
 
<span class="comment">// Now run your tests</span>
<span class="macro">run!</span> {
    <span class="comment">// First give a name to your variable, containing your globals</span>
    <span class="ident">global_var</span>,
     
    <span class="comment">// Then give a name to your current testcase variable, containing</span>
    <span class="comment">// specific test data</span>
    <span class="ident">test_case</span>,
 
    <span class="comment">// Now pass the statements you want to run</span>
    <span class="macro">println!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">global_var</span>.<span class="ident">my_global</span>); <span class="comment">// We can access the global variable, its behind a reference tho</span>
    <span class="macro">println!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">test_case</span>.<span class="ident">my_test_var</span>); <span class="comment">// In similar fashion, the test case. Here you get owned access</span>
    <span class="ident">my_super_expensive_function</span>(); <span class="comment">// Any function can be called.</span>
    <span class="ident">mymod::my_function</span>(); <span class="comment">// Also from other modules</span>
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">25</span>; <span class="comment">// Any statement can be run!</span>
}
 </code></pre></div>
<h3 id="panics"><a href="#panics">Panics</a></h3>
<p>This macro will panic if:</p>
<ul>
<li>The file wasn’t found, could not be opened or read</li>
<li>Parsing from TOML was unsuccessful</li>
</ul>
</div></details></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="kat" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>